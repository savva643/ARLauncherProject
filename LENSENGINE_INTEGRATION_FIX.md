# Исправление интеграции с LensEngine

## Проблема
Ранее использовалась самодельная интеграция акселерометра для вычисления позиции, вместо использования данных из LensEngine, который уже правильно обрабатывает IMU данные через SensorFusionEKF.

## Исправление

### 1. Передача IMU данных в LensEngine
- IMU данные теперь передаются в LensEngine через `processIMUData()` с правильной структурой `RawIMUData`
- Все данные (акселерометр, гироскоп, гравитация, магнитометр) передаются в LensEngine

### 2. Использование позиции из LensEngine
- Удалена самодельная логика вычисления позиции из акселерометра
- Позиция теперь берется из колбэка `setPoseCallback`, который вызывается LensEngine после обработки данных
- LensEngine использует SensorFusionEKF для правильного вычисления позиции и ротации

### 3. Передача RGB кадров в LensEngine
- RGB кадры теперь передаются в LensEngine через `processRGBData()` для визуальной одометрии
- Это позволяет LensEngine использовать визуальную одометрию для более точного определения позиции

### 4. Интерполяция камеры
- Интерполяция остается для плавного движения камеры
- Но теперь использует данные из LensEngine вместо самодельных вычислений
- Целевая позиция и ротация обновляются из колбэка `setPoseCallback`

## Изменения в коде

### Application.cpp
- Удалена логика интеграции акселерометра
- Добавлена передача IMU данных в LensEngine через `processIMUData()`
- Добавлена передача RGB кадров в LensEngine через `processRGBData()`
- Колбэк `setPoseCallback` теперь обновляет целевую позицию и ротацию для интерполяции

### Application.h
- Удалена переменная `m_accumulatedPosition`
- Комментарии обновлены для ясности

## Преимущества
1. **Точность**: LensEngine использует правильные алгоритмы (EKF) для вычисления позиции
2. **Визуальная одометрия**: RGB кадры используются для улучшения точности позиции
3. **Сенсорный фьюжн**: IMU данные правильно объединяются с визуальными данными
4. **Консистентность**: Все данные обрабатываются в одном месте (LensEngine)

## Логирование
- IMU данные логируются с позицией из LensEngine
- Позиция из LensEngine логируется в колбэке `setPoseCallback`
- Показывается confidence для оценки качества позы

